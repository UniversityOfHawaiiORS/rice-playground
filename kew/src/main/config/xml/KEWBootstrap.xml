<?xml version="1.0" encoding="UTF-8"?>
<data xmlns="ns:workflow" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="ns:workflow resource:WorkflowData">
    <!-- ApplicationConstants -->

    <ApplicationConstants xmlns="ns:workflow/ApplicationConstants" xsi:schemaLocation="ns:workflow/ApplicationConstants resource:ApplicationConstants">
        <ApplicationConstant>
            <ConstantName>Config.Application.MinutesToCacheUsers</ConstantName>
            <ConstantValue>2620</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>RuleChange.IsGenerateActionRequests</ConstantName>
            <ConstantValue>true</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>RuleService.IsCaching</ConstantName>
            <ConstantValue>true</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>Config.Application.AdminUserList</ConstantName>
            <ConstantValue>admin</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>DocumentSearch.IsRouteLogPopup</ConstantName>
            <ConstantValue>true</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>DocumentSearch.IsDocumentPopup</ConstantName>
            <ConstantValue>true</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>ActionList.IsRouteLogPopup</ConstantName>
            <ConstantValue>true</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>ActionList.IsDocumentPopup</ConstantName>
            <ConstantValue>true</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>RouteTypeSearch.Instructions</ConstantName>
            <ConstantValue>Enter search criteria and click the search button to view the results.</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>RouteQueue.isRoutingByIPNumber</ConstantName>
            <ConstantValue>true</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>RouteQueue.maxRetryAttempts</ConstantName>
            <ConstantValue>3</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>RouteQueue.timeIncrement</ConstantName>
            <ConstantValue>1000</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>RouteManagerQueue.initialDelay</ConstantName>
            <ConstantValue>1000</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>RouteManagerQueue.waitTime</ConstantName>
            <ConstantValue>1000</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>RouteManagerPool.numWorkers</ConstantName>
            <ConstantValue>10</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>RouteManagerDriver.isRunning</ConstantName>
            <ConstantValue>true</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>ActionList.sendEmailNotification</ConstantName>
            <ConstantValue>false</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>RuleTemplate.CreateNew.Instruction</ConstantName>
            <ConstantValue>Enter a rule template name and description. Please select all necessary rule attributes for this template.</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>Rule.CreateNew.Instruction</ConstantName>
            <ConstantValue>Please select a rule template and document type.</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>Workgroup.Search.Instruction</ConstantName>
            <ConstantValue>Enter criteria to search for a workgroup.</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>RuleAttribute.CreateNew.Instruction</ConstantName>
            <ConstantValue>Enter the rule attributes name and full class name.</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>RuleTemplate.Search.Instruction</ConstantName>
            <ConstantValue>Use fields below to search for rule templates.</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>Rule.Search.Instruction</ConstantName>
            <ConstantValue>Use fields below to search for rules.</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>GlobalReviewer.Replace.Instruction</ConstantName>
            <ConstantValue>Enter the reviewer to replace.</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>DocumentType.Search.Instruction</ConstantName>
            <ConstantValue>Enter document type information below and click search.</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>Config.Backdoor.TargetFrameName</ConstantName>
            <ConstantValue>iframe_51148</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>ApplicationContext</ConstantName>
            <ConstantValue>en-dev</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>RuleAttribute.Search.Instruction</ConstantName>
            <ConstantValue>Enter rule attribute criteria and click the search button.</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>User.Search.Instruction</ConstantName>
            <ConstantValue>Enter search criteria and click the search button to view the results.</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>QuickLinks.restrictDocumentTypes</ConstantName>
            <ConstantValue>HREDOC,PURDOCS,ERADOCS,IeAccessRequest,ERA_HumanSubjects,MainStudy,TRAVELDOCS</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>Workgroup.CreateNew.Instruction</ConstantName>
            <ConstantValue>Enter/edit the workgroup data and click the route button to route the document.</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>Workflow.AdminWorkgroup</ConstantName>
            <ConstantValue>WorkflowAdmin</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>Workgroup.IsRouteLogPopup</ConstantName>
            <ConstantValue>false</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>DocumentType.IsRouteLogPopup</ConstantName>
            <ConstantValue>false</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>Rule.IsRouteLogPopup</ConstantName>
            <ConstantValue>false</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>Config.Application.RuleLockingOn</ConstantName>
            <ConstantValue>true</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>Config.Application.DelegateLimit</ConstantName>
            <ConstantValue>20</ConstantValue>
        </ApplicationConstant>        
        <ApplicationConstant>
            <ConstantName>Config.Mailer.FromAddress</ConstantName>
            <ConstantValue>kew@localhost</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>Backdoor.ShowbackDoorLogin</ConstantName>
            <ConstantValue>true</ConstantValue>
        </ApplicationConstant>
        <!--
            <ApplicationConstant>
            <ConstantName>Config.Application.RunDeactivationDate</ConstantName>
            <ConstantValue>true</ConstantValue>
            </ApplicationConstant>
            <ApplicationConstant>
            <ConstantName>Config.Application.UseOneStartPortalUrl</ConstantName>
            <ConstantValue>true</ConstantValue>
            </ApplicationConstant>
        -->
        <!--
            new
        -->
        <ApplicationConstant>
            <ConstantName>HelpDeskActionList.helpDeskActionListName</ConstantName>
            <ConstantValue>WorkflowAdmin</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>Config.Mailer.LastDailyReminderDate</ConstantName>
            <ConstantValue>1112663586040</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>Config.Mailer.LastWeeklyReminderDate</ConstantName>
            <ConstantValue>1112663586068</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>User.CreateNew.Instruction</ConstantName>
            <ConstantValue>Create or modify user information.</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>Workflow.AdminUrls</ConstantName>
            <ConstantValue>/RouteType.do /RouteManagerDriver.do /ApplicationConstants.do /RuleAttribute.do /RuleTemplate.do /WorkflowUser.do /DocumentOperation.do /RouteQueue.do /Ingester.do /Plugin.do</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>Feature.CheckRouteLogAuthentication.CheckFuture</ConstantName>
            <ConstantValue>true</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>Note.CreateNew.Instruction</ConstantName>
            <ConstantValue>Create or modify note information.</ConstantValue>
        </ApplicationConstant>
        <!--
            <ApplicationConstant>
            <ConstantName>ActionList.EmailNotification.TestAddress</ConstantName>
            <ConstantValue>rkirkend@indiana.edu</ConstantValue>
            </ApplicationConstant>
            <ApplicationConstant>
            <ConstantName>RouteQueue.CreateNew.Instruction</ConstantName>
            <ConstantValue>Create or modify a Route Queue entry.</ConstantValue>
            </ApplicationConstant>
        -->
        <ApplicationConstant>
            <ConstantName>RouteQueue.requeueWaitTime</ConstantName>
            <ConstantValue>5000</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>showAttachments</ConstantName>
            <ConstantValue>true</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>EDL.UseXSLTC</ConstantName>
            <ConstantValue>false</ConstantValue>
        </ApplicationConstant>
        <ApplicationConstant>
            <ConstantName>EDL.DebugTransform</ConstantName>
            <ConstantValue>false</ConstantValue>
        </ApplicationConstant>
    </ApplicationConstants>

    <!-- bootstrap users and groups; only admin is required -->
    <users xmlns="ns:workflow/User" xsi:schemaLocation="ns:workflow/User resource:User">
        <!-- Core admin user -->
        <user>
            <workflowId>admin</workflowId>
            <emplId>admin</emplId>
            <authenticationId>admin</authenticationId>
            <uuId>admin</uuId>
            <emailAddress>admin@localhost</emailAddress>
            <displayName>Administrator</displayName>
            <givenName>admin</givenName>
            <lastName>admin</lastName>
        </user>
    </users>

    <workgroups xmlns="ns:workflow/Workgroup" xsi:schemaLocation="ns:workflow/Workgroup resource:Workgroup">
        <!-- Core admin workgroup -->
        <workgroup allowOverwrite="true">
            <workgroupName>WorkflowAdmin</workgroupName>
            <description>WorkflowAdmin</description>
            <activeInd>true</activeInd>
            <workgroupType>W</workgroupType>
            <members>
                <workflowId>admin</workflowId>
            </members>
        </workgroup>
    </workgroups>

    <!-- Rule attributes for core doctypes -->
    <!-- TODO: determine why this attribute is in bootstrap and if it doesn't need to be remove it! -->
    <ruleAttributes xmlns="ns:workflow/RuleAttribute" xsi:schemaLocation="ns:workflow/RuleAttribute resource:RuleAttribute">
        <ruleAttribute>
            <name>RuleRoutingAttribute</name>
            <className>edu.iu.uis.eden.routetemplate.RuleRoutingAttribute</className>
            <label>Rule Routing Attribute</label>
            <description>Attribute used by rules to rout</description>
            <type>RuleAttribute</type>
        </ruleAttribute>
        <ruleAttribute>
            <name>RemoveReplaceWorkgroupTypeRoutingAttribute</name>
            <className>edu.iu.uis.eden.routetemplate.RemoveReplaceWorkgroupTypeRoutingAttribute</className>
            <label>RemoveReplaceWorkgroupTypeRoutingAttribute</label>
            <description>An attribute for routing workgroups that have been changed via the Remove/Replace User document</description>
            <type>RuleAttribute</type>
        </ruleAttribute>
        <ruleAttribute>
			<name>RemoveReplaceRuleRoutingAttribute</name>
			<className>edu.iu.uis.eden.routetemplate.RemoveReplaceRuleRoutingAttribute</className>
			<label>RemoveReplaceRuleRoutingAttribute</label>
			<description>An attribute for routing rules that have been changed via the Remove/Replace User document</description>
			<type>RuleAttribute</type>
		</ruleAttribute>
    </ruleAttributes>

    <!-- Templates for core rules -->

    <ruleTemplates xmlns="ns:workflow/RuleTemplate" xsi:schemaLocation="ns:workflow/RuleTemplate resource:RuleTemplate">
        <ruleTemplate allowOverwrite="true">
            <name>WorkflowDocumentDelegationTemplate</name>
            <description>WorkflowDocumentDelegationTemplate</description>
        </ruleTemplate>
        <ruleTemplate allowOverwrite="true">
            <name>WorkflowDocumentTemplate</name>
            <description>Workflow Document Template</description>
            <delegationTemplate>WorkflowDocumentDelegationTemplate</delegationTemplate>
        </ruleTemplate>
        <ruleTemplate allowOverwrite="true">
            <name>Ack1Template</name>
            <description>Acknowledgement 1 Template</description>
        </ruleTemplate>
        <ruleTemplate allowOverwrite="true">
            <name>Ack2Template</name>
            <description>Acknowledgement 2 Template</description>
        </ruleTemplate>
        <ruleTemplate>
			<name>RemoveReplaceWorkgroupTemplate</name>
			<description>Remove/Replace Workgroup Routing</description>
			<attributes>
				<attribute>
					<name>RemoveReplaceWorkgroupTypeRoutingAttribute</name>
					<required>true</required>
				</attribute>
			</attributes>
		</ruleTemplate>
        <ruleTemplate>
            <name>RemoveReplaceRuleTemplate</name>
            <description>Remove/Replace Rule Routing</description>
                <attributes>
                    <attribute>
                        <name>RemoveReplaceRuleRoutingAttribute</name>
                        <required>true</required>
                    </attribute>
                </attributes>
        </ruleTemplate>
    </ruleTemplates>

    <!-- Core doctypes -->

    <!-- "bootstrap" doc types to be loaded upon initial startup -->
    <documentTypes xmlns="ns:workflow/DocumentType" xsi:schemaLocation="ns:workflow/DocumentType resource:DocumentType">
        <documentType>
            <name>EDENSERVICE-DOCS</name>
            <description>Workflow Maintenance Document</description>
            <label>Workflow Maintenance Document</label>
            <postProcessorName>none</postProcessorName>
            <docHandler>docHandler is now mandatory...</docHandler>
            <superUserWorkgroupName>WorkflowAdmin</superUserWorkgroupName>
            <blanketApproveWorkgroupName>WorkflowAdmin</blanketApproveWorkgroupName>
            <defaultExceptionWorkgroupName>WorkflowAdmin</defaultExceptionWorkgroupName>
            <active>true</active>
            <policies>
                <policy>
                    <name>PRE_APPROVE</name>
                    <value>false</value>
                    <!-- <inherited>false</inherited> -->
                </policy>
                <policy>
                    <name>DEFAULT_APPROVE</name>
                    <value>true</value>
                    <!-- <inherited>false</inherited> -->
                </policy>
            </policies>
            <routePaths>
                <routePath>
                    <start name="adhoc" nextNode="exception" />
                    <requests name="exception" nextNode="Workflow Document Routing" />
                    <requests name="Workflow Document Routing" />
                </routePath>
            </routePaths>
            <routeNodes>
                <start name="adhoc">
                    <activationType>S</activationType>
                </start>
                <requests name="exception">
                    <activationType>S</activationType>
                    <ruleTemplate>WorkflowDocumentTemplate</ruleTemplate>
                </requests>
                <requests name="Workflow Document Routing">
                    <activationType>S</activationType>
                    <ruleTemplate>WorkflowDocumentTemplate</ruleTemplate>
                    <mandatoryRoute>true</mandatoryRoute>
                </requests>
            </routeNodes>
        </documentType>
        <documentType>
            <name>EDENSERVICE-DOCS.DocumentType</name>
            <parent>EDENSERVICE-DOCS</parent>
            <description>Workflow Maintenance Document Type Document</description>
            <label>Workflow Maintenance Document Type Document</label>
            <postProcessorName>edu.iu.uis.eden.doctype.DocumentTypePostProcessor</postProcessorName>
            <superUserWorkgroupName>WorkflowAdmin</superUserWorkgroupName>
            <blanketApproveWorkgroupName>WorkflowAdmin</blanketApproveWorkgroupName>
            <defaultExceptionWorkgroupName>WorkflowAdmin</defaultExceptionWorkgroupName>
            <docHandler>${workflow.url}/DocumentType.do?methodToCall=docHandler</docHandler>
            <active>true</active>
            <policies />
            <routePaths>
                <routePath>
                    <start name="placeholder" />
                </routePath>
            </routePaths>
            <routeNodes>
                <start name="placeholder">
                    <activationType>S</activationType>
                </start>
            </routeNodes>
        </documentType>
        <documentType>
            <name>EDENSERVICE-DOCS.RuleDocument</name>
            <parent>EDENSERVICE-DOCS</parent>
            <description>Rule Maintenance Document Type Document</description>
            <label>Rule Maintenance Document Type Document</label>
            <postProcessorName>edu.iu.uis.eden.routetemplate.RulePostProcessor</postProcessorName>
            <superUserWorkgroupName>WorkflowAdmin</superUserWorkgroupName>
            <blanketApproveWorkgroupName>WorkflowAdmin</blanketApproveWorkgroupName>
            <defaultExceptionWorkgroupName>WorkflowAdmin</defaultExceptionWorkgroupName>
            <docHandler>${workflow.url}/Rule.do?methodToCall=docHandler</docHandler>
            <active>true</active>
            <policies />
            <routePaths>
                <routePath>
                    <start name="placeholder" />
                </routePath>
            </routePaths>
            <routeNodes>
                <start name="placeholder">
                    <activationType>S</activationType>
                </start>
            </routeNodes>
        </documentType>
        <documentType>
            <name>EDENSERVICE-DOCS.WKGRPREQ</name>
            <parent>EDENSERVICE-DOCS</parent>
            <description>Document to generate a new workgroup</description>
            <label>Add/modify EDEN workgroup</label>
            <postProcessorName>edu.iu.uis.eden.workgroup.WorkgroupPostProcessor</postProcessorName>
            <superUserWorkgroupName>WorkflowAdmin</superUserWorkgroupName>
            <blanketApproveWorkgroupName>WorkflowAdmin</blanketApproveWorkgroupName>
            <defaultExceptionWorkgroupName>WorkflowAdmin</defaultExceptionWorkgroupName>
            <docHandler>${workflow.url}/Workgroup.do?methodToCall=docHandler</docHandler>
            <active>true</active>
            <routingVersion>1</routingVersion>
            <routePaths>
                <routePath>
                    <start name="Adhoc Routing" nextNode="Workgroup Approvers" />
                    <requests name="Workgroup Approvers" />
                </routePath>
            </routePaths>
            <routeNodes>
                <start name="Adhoc Routing">
                    <activationType>P</activationType>
                    <mandatoryRoute>false</mandatoryRoute>
                    <finalApproval>false</finalApproval>
                </start>
                <requests name="Workgroup Approvers">
                    <activationType>P</activationType>
                    <ruleTemplate>WorkflowDocumentTemplate</ruleTemplate>
                    <mandatoryRoute>true</mandatoryRoute>
                    <finalApproval>false</finalApproval>
                </requests>
            </routeNodes>
        </documentType>
        <documentType>
            <name>EDENSERVICE-DOCS.RemoveReplaceUser</name>
            <parent>EDENSERVICE-DOCS</parent>
            <description>A document to remove or replace users within rules and workgroups.</description>
            <label>Remove/Replace User</label>
            <postProcessorName>edu.iu.uis.eden.removereplace.RemoveReplacePostProcessor</postProcessorName>
            <superUserWorkgroupName>WorkflowAdmin</superUserWorkgroupName>
            <blanketApproveWorkgroupName>WorkflowAdmin</blanketApproveWorkgroupName>
            <defaultExceptionWorkgroupName>WorkflowAdmin</defaultExceptionWorkgroupName>
            <docHandler>${workflow.url}/RemoveReplace.do?methodToCall=docHandler</docHandler>
            <active>true</active>
            <routingVersion>1</routingVersion>
            <routePaths>
                <routePath>
                    <start name="Adhoc Routing" nextNode="Workgroup Approval"/>
                    <requests name="Workgroup Approval" nextNode="Rule Approval"/>
                    <requests name="Rule Approval"/>
                </routePath>
            </routePaths>
            <routeNodes>
                <start name="Adhoc Routing">
                    <activationType>P</activationType>
                    <mandatoryRoute>false</mandatoryRoute>
                    <finalApproval>false</finalApproval>
                </start>
                <requests name="Workgroup Approval">
                    <activationType>P</activationType>
                    <ruleTemplate>RemoveReplaceWorkgroupTemplate</ruleTemplate>
                    <mandatoryRoute>false</mandatoryRoute>
                    <finalApproval>false</finalApproval>
                </requests>
                <requests name="Rule Approval">
                    <activationType>P</activationType>
                    <ruleTemplate>RemoveReplaceRuleTemplate</ruleTemplate>
                    <mandatoryRoute>false</mandatoryRoute>
                    <finalApproval>false</finalApproval>
                </requests>

            </routeNodes>
        </documentType>
    </documentTypes>

    <!-- Core rules -->

    <!-- "bootstrap" rule to be loaded upon initial startup -->
    <rules xmlns="ns:workflow/Rule" xsi:schemaLocation="ns:workflow/Rule resource:Rule">
        <rule>
            <documentType>EDENSERVICE-DOCS</documentType>
            <ruleTemplate>WorkflowDocumentTemplate</ruleTemplate>
            <description>workflowdocumenttemplate description</description>
            <ignorePrevious>false</ignorePrevious>
            <!--
                <ruleExtensions>

                </ruleExtensions>
            -->
            <responsibilities>
                <responsibility>
                    <user>admin</user>
                    <actionRequested>A</actionRequested>
                    <priority>1</priority>
                </responsibility>
            </responsibilities>
        </rule>
        <rule>
            <documentType>EDENSERVICE-DOCS.WKGRPREQ</documentType>
            <ruleTemplate>WorkflowDocumentTemplate</ruleTemplate>
            <description>Workgroup Approval Rule</description>
            <ignorePrevious>false</ignorePrevious>
            <responsibilities>
                <responsibility>
                    <workgroup>WorkflowAdmin</workgroup>
                    <actionRequested>A</actionRequested>
                    <priority>1</priority>
                </responsibility>
            </responsibilities>
        </rule>
    </rules>
</data>