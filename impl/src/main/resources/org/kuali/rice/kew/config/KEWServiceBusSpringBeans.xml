<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
                           http://www.springframework.org/schema/tx
                           http://www.springframework.org/schema/tx/spring-tx-2.0.xsd
                           http://www.springframework.org/schema/aop
                           http://www.springframework.org/schema/aop/spring-aop-2.0.xsd">

	<bean id="kewLocalServiceExporter" class="org.kuali.rice.ksb.messaging.RunModeServiceExporter" abstract="true">
		<property name="runModePropertyName" value="kew.mode" />
		<property name="validRunMode" value="local" />
	</bean>

	<bean id="kewEmbeddedServiceExporter" class="org.kuali.rice.ksb.messaging.RunModeServiceExporter" abstract="true">
		<property name="runModePropertyName" value="kew.mode" />
		<property name="validRunMode" value="embedded" />
	</bean>
	
	<bean id="kewSoapService" class="org.kuali.rice.ksb.messaging.SOAPServiceDefinition" abstract="true">
       <property name="serviceNameSpaceURI" value="http://rice.kuali.org/wsdl/kew"/>
       <property name="jaxWsService" value="true"/>
       <property name="priority" value="3" />
       <property name="retryAttempts" value="0" />
    </bean>
	
	<bean parent="kewEmbeddedServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
        <bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
          <property name="service">
            <ref bean="enWorkflowDocumentActionsService" />
          </property>
          <property name="localServiceName" value="WorkflowDocumentActionsService" />
          <property name="priority" value="3" />
          <property name="retryAttempts" value="0" />
          <property name="busSecurity" value="${secure.workflowdocument.javaservice.endpoint}"/>
        </bean>
		</property>
	</bean>
	
	<bean parent="kewLocalServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
			<bean parent="kewSoapService">
          <property name="service">
            <ref bean="enWorkflowDocumentActionsService" />
          </property>
          <property name="localServiceName" value="WorkflowDocumentActionsServiceSOAP" />
          <property name="busSecurity" value="${secure.workflowdocument.javaservice.endpoint}"/>
        </bean>
		</property>
		<property name="exportIf" value="WorkflowDocumentActionsServiceSOAP.expose"/>
	</bean>

	<bean parent="kewLocalServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
			<bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
				<property name="service">
					<ref bean="enWorkflowDocumentActionsService" />
				</property>
				<property name="localServiceName" value="enWorkflowDocumentActionsService" />
				<property name="serviceNameSpaceURI" value="" />
				<property name="priority" value="3" />
				<property name="retryAttempts" value="0" />
				<property name="busSecurity" value="${secure.workflowdocument.javaservice.endpoint}"/>
			</bean>
		</property>
	</bean>

	<bean parent="kewEmbeddedServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
        <bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
          <property name="service">
            <ref bean="enWorkflowUtilityService" />
          </property>
          <property name="localServiceName" value="WorkflowUtilityService" />
          <property name="priority" value="3" />
          <property name="retryAttempts" value="0" />
          <property name="busSecurity" value="${secure.workflowutility.javaservice.endpoint}"/>
        </bean>
          </property>
    </bean>
    
    <bean parent="kewLocalServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
			<bean parent="kewSoapService">
          <property name="service" ref="enWorkflowUtilityService" />
          <property name="localServiceName" value="WorkflowUtilityServiceSOAP" />
          <property name="serviceInterface" value="org.kuali.rice.kew.service.WorkflowUtility" />
          <property name="busSecurity" value="${secure.workflowutility.soapservice.endpoint}"/>
        </bean>
          </property>
		<property name="exportIf" value="WorkflowUtilityServiceSOAP.expose" />
    </bean>

	<bean parent="kewLocalServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
			<bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
				<property name="service">
					<ref bean="enWorkflowUtilityService" />
				</property>
				<property name="localServiceName" value="enWorkflowUtilityService" />
				<property name="serviceNameSpaceURI" value="" />
				<property name="priority" value="3" />
				<property name="retryAttempts" value="0" />
				<property name="busSecurity" value="${secure.workflowutility.javaservice.endpoint}"/>
			</bean>
		</property>
	</bean>

	<bean parent="kewLocalServiceExporter">
	  <property name="remotedServiceRegistry" ref="enServiceInvoker"/>
      <property name="serviceDefinition">
			<bean parent="kewSoapService">
          <property name="service" ref="simpleDocumentActionsService" />
          <property name="localServiceName" value="simpleDocumentActionsService" />
          <property name="serviceInterface" value="org.kuali.rice.kew.webservice.SimpleDocumentActionsWebService" />
          <property name="busSecurity" value="${simpleDocumentActionsService.security}"/>
        </bean>
      </property>
    </bean>

	<bean parent="kewLocalServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
        <bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
          <property name="service">
            <bean class="org.kuali.rice.kew.workgroup.WorkgroupMembershipChangeProcessor" />
          </property>
          <property name="localServiceName" value="WorkgroupMembershipChangeService" />
          <property name="serviceNameSpaceURI" value="" />
          <property name="priority" value="10" />
          <property name="retryAttempts" value="1" />
          <property name="messageExceptionHandler" value="org.kuali.rice.ksb.messaging.exceptionhandling.DefaultMessageExceptionHandler" />
        </bean>
		</property>
	</bean>

	<bean parent="kewLocalServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
        <bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
          <property name="service">
            <bean class="org.kuali.rice.kew.responsibility.ResponsibilityChangeProcessor" />
          </property>
          <property name="localServiceName" value="ResponsibilityChangeService" />
          <property name="serviceNameSpaceURI" value="" />
          <property name="priority" value="10" />
          <property name="retryAttempts" value="1" />
          <property name="messageExceptionHandler" value="org.kuali.rice.ksb.messaging.exceptionhandling.DefaultMessageExceptionHandler" />
        </bean>
		</property>
	</bean>

	<bean parent="kewEmbeddedServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
        <bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
          <property name="service">
            <ref bean="enDocumentRoutingService" />
          </property>
          <property name="localServiceName" value="DocumentRoutingService" />
          <property name="priority" value="5"/>
          <property name="messageExceptionHandler" value="org.kuali.rice.kew.messaging.exceptionhandling.DocumentMessageExceptionHandler" />
        </bean>
		</property>
	</bean>

	<bean parent="kewEmbeddedServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
        <bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
          <property name="service">
            <ref bean="enBlanketApproveProcessor" />
          </property>
          <property name="localServiceName" value="BlanketApproveProcessorService" />
          <property name="priority" value="4"/>
          <property name="messageExceptionHandler" value="org.kuali.rice.kew.messaging.exceptionhandling.DocumentMessageExceptionHandler" />
        </bean>
		</property>
	</bean>

	<bean parent="kewEmbeddedServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
        <bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
          <property name="service">
            <ref bean="enSearchableAttributeProcessor" />
          </property>
          <property name="localServiceName" value="SearchableAttributeProcessorService" />
          <property name="priority" value="30"/>
          <property name="retryAttempts" value="1" />
          <property name="messageExceptionHandler" value="org.kuali.rice.ksb.messaging.exceptionhandling.DefaultMessageExceptionHandler" />
        </bean>
		</property>
	</bean>

	<bean parent="kewEmbeddedServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
        <bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
          <property name="service">
            <ref bean="enDocumentRequeuerService" />
          </property>
          <property name="localServiceName" value="DocumentRequeueProcessorService" />
          <property name="priority" value="10"/>
          <property name="retryAttempts" value="1" />
          <property name="messageExceptionHandler" value="org.kuali.rice.ksb.messaging.exceptionhandling.DefaultMessageExceptionHandler" />
        </bean>
          </property>
        </bean>


	<bean parent="kewLocalServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
        <bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
          <property name="service">
            <bean class="org.kuali.rice.kew.rule.service.impl.RuleCacheProcessorImpl" />
          </property>
          <property name="serviceNameSpaceURI" value=""/>
          <property name="localServiceName" value="RuleCacheProcessorService" />
          <property name="priority" value="3"/>
          <property name="queue" value="false"/>
          <property name="retryAttempts" value="1" />
          <property name="messageExceptionHandler" value="org.kuali.rice.ksb.messaging.exceptionhandling.DefaultMessageExceptionHandler" />
        </bean>
		</property>
	</bean>
	
	<bean parent="kewLocalServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker" />
		<property name="serviceDefinition">
			<bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
				<property name="service">
					<bean class="org.kuali.rice.kew.rule.service.impl.RuleDelegationCacheProcessorImpl" />
				</property>
				<property name="serviceNameSpaceURI" value="" />
				<property name="localServiceName" value="RuleDelegationCacheProcessorService" />
				<property name="priority" value="3" />
				<property name="queue" value="false" />
				<property name="retryAttempts" value="1" />
				<property name="messageExceptionHandler" value="org.kuali.rice.ksb.messaging.exceptionhandling.DefaultMessageExceptionHandler" />
			</bean>
		</property>
	</bean>

	<bean parent="kewEmbeddedServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
        <bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
          <property name="service">
            <bean class="org.kuali.rice.kew.rule.RolePokerProcessor" />
          </property>
          <property name="localServiceName" value="RolePokerProcessorService" />
          <property name="priority" value="10"/>
          <property name="retryAttempts" value="1" />
          <property name="messageExceptionHandler" value="org.kuali.rice.ksb.messaging.exceptionhandling.DefaultMessageExceptionHandler" />
        </bean>
		</property>
	</bean>

	<bean parent="kewLocalServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
        <bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
          <property name="service">
            <ref bean="enImmediateEmailReminderService" />
          </property>
          <property name="localServiceName" value="ImmediateEmailService" />
          <property name="serviceNameSpaceURI" value=""/>
          <property name="priority" value="30"/>
          <property name="retryAttempts" value="1" />
          <property name="messageExceptionHandler" value="org.kuali.rice.kew.messaging.exceptionhandling.DocumentMessageExceptionHandler" />
        </bean>
		</property>
		<property name="exportIf" value="Email.useRemoteServices" />
	</bean>

	<bean parent="kewEmbeddedServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
        <bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
          <property name="service">
            <ref bean="enActionInvocationService" />
          </property>
          <property name="localServiceName" value="ActionInvocationProcessor" />
          <property name="priority" value="10"/>
          <property name="retryAttempts" value="1" />
          <property name="messageExceptionHandler" value="org.kuali.rice.kew.messaging.exceptionhandling.DocumentMessageExceptionHandler" />
        </bean>
		</property>
	</bean>

	<bean parent="kewEmbeddedServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
        <bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
          <property name="service">
            <ref bean="enMoveDocumentService" />
          </property>
          <property name="localServiceName" value="MoveDocumentProcessor" />
          <property name="priority" value="10"/>
          <property name="retryAttempts" value="1" />
          <property name="messageExceptionHandler" value="org.kuali.rice.kew.messaging.exceptionhandling.DocumentMessageExceptionHandler" />
        </bean>
    </property>
  </bean>

  <bean id="enCacheAdministrator" class="org.kuali.rice.ksb.messaging.RiceCacheExporterFactoryBean" >
	<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
  </bean>

	<bean parent="kewLocalServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
	       <bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
	         <property name="service">
	           <ref bean="routeLogDerivedRoleTypeService" />
	         </property>
	         <property name="localServiceName" value="routeLogDerivedRoleTypeService" />
				<property name="serviceNameSpaceURI" value="KEW" />
	         <property name="priority" value="3" />
	         <property name="retryAttempts" value="0" />
	         <property name="busSecurity" value="${secure.workflowdocument.javaservice.endpoint}"/>
	       </bean>
		</property>
  </bean>

	<bean parent="kewLocalServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
	       <bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
	         <property name="service">
	           <ref bean="actionRequestDerivedRoleTypeService" />
	         </property>
	         <property name="localServiceName" value="actionRequestDerivedRoleTypeService" />
				<property name="serviceNameSpaceURI" value="KEW" />
	         <property name="priority" value="3" />
	         <property name="retryAttempts" value="0" />
	         <property name="busSecurity" value="${secure.workflowdocument.javaservice.endpoint}"/>
	       </bean>
		</property>
  </bean>

	<bean parent="kewLocalServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
	       <bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
	         <property name="service">
	           <ref bean="adhocReviewPermissionTypeService" />
	         </property>
	         <property name="localServiceName" value="adhocReviewPermissionTypeService" />
				<property name="serviceNameSpaceURI" value="KEW" />
	         <property name="priority" value="3" />
	         <property name="retryAttempts" value="0" />
	         <property name="busSecurity" value="${secure.workflowdocument.javaservice.endpoint}"/>
	       </bean>
		</property>
  </bean>

  <bean id="reviewResponsibilityTypeService" class="org.kuali.rice.kew.service.impl.ReviewResponsibilityTypeServiceImpl" />
	<bean parent="kewLocalServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
	       <bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
	         <property name="service">
	           <ref bean="reviewResponsibilityTypeService" />
	         </property>
	         <property name="localServiceName" value="reviewResponsibilityTypeService" />
				<property name="serviceNameSpaceURI" value="KEW" />
	         <property name="priority" value="3" />
	         <property name="retryAttempts" value="0" />
	         <property name="busSecurity" value="${secure.workflowdocument.javaservice.endpoint}"/>
	       </bean>
		</property>
  </bean>

	<bean parent="kewLocalServiceExporter">
		<property name="remotedServiceRegistry" ref="enServiceInvoker"/>
		<property name="serviceDefinition">
	       <bean class="org.kuali.rice.ksb.messaging.JavaServiceDefinition">
	         <property name="service">
	           <ref bean="documentTypeResponsibilityTypeService" />
	         </property>
	         <property name="localServiceName" value="documentTypeResponsibilityTypeService" />
				<property name="serviceNameSpaceURI" value="KEW" />
	         <property name="priority" value="3" />
	         <property name="retryAttempts" value="0" />
	         <property name="busSecurity" value="${secure.workflowdocument.javaservice.endpoint}"/>
	       </bean>
		</property>
  </bean>

</beans>
