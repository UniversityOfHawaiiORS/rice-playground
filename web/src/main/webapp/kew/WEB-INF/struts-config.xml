<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN" "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">

<struts-config>
    <data-sources />

    <form-beans>
    	<!-- Begin required KNS forms -->
        <form-bean name="KualiForm" type="org.kuali.rice.kns.web.struts.form.KualiForm" />
        <form-bean name="KualiExceptionIncidentForm" type="org.kuali.rice.kns.web.struts.form.KualiExceptionIncidentForm" />
    	<!-- End required KNS forms -->
	    <form-bean name="RuleForm" type="org.kuali.rice.kew.rule.web.RuleForm" />
	    <form-bean name="ActionListFormNew" type="org.kuali.rice.kew.actionlist.web.ActionListForm" />
	    <form-bean name="ActionListFilterFormNew" type="org.kuali.rice.kew.actionlist.web.ActionListFilterForm" />
	    <form-bean name="DocumentOperationForm" type="org.kuali.rice.kew.documentoperation.web.DocumentOperationForm" />
    </form-beans>

    <global-exceptions>
       	<!-- Begin required KNS exceptions
        <exception type="org.kuali.rice.kns.exception.UnknownDocumentIdException" key="error.document.noLongerExistsInKuali" path="/kr/WEB-INF/jsp/Exception.jsp" />
        <exception type="org.kuali.rice.kns.exception.FileUploadLimitExceededException" key="error.document.attachmentMaximumFileSizeExceeded" path="/kr/WEB-INF/jsp/Exception.jsp" />
        <exception type="java.lang.Throwable" handler="org.kuali.rice.kns.web.struts.pojo.StrutsExceptionIncidentHandler" key="na"/>
       	End required KNS exceptions -->
       	<exception type="org.kuali.rice.kns.exception.KualiException" handler="org.kuali.rice.kns.web.struts.pojo.StrutsExceptionIncidentHandler" key="na"/>
    </global-exceptions>

    <global-forwards>
       	<!-- Begin required KNS forwards -->
        <forward name="save" path="/index.html" redirect="true" />
        <forward name="cancel" path="/index.html" redirect="true" />
        <forward name="close" path="/index.html" redirect="true" />
        <forward name="portal" path="/index.html" redirect="true" />
        <forward name="route_report" path="/WEB-INF/jsp/RoutingReportForward.jsp"/>
        <forward name="error" path="/WEB-INF/jsp/KualiError.jsp" />
        <forward name="exceptionIncidentHandler" path="/kualiExceptionIncidentReport.do" />
        <forward name="updateTextArea" path="/../kr/WEB-INF/jsp/TextArea.jsp"/>
       	<!-- End required KNS forwards -->
    </global-forwards>


    <action-mappings>
       	<!-- Begin required KNS mappings -->
        <action path="/portal" name="KualiForm" type="org.kuali.rice.kns.web.struts.action.KualiSimpleAction">
            <forward name="basic" path="/portal.jsp" />
        </action>
        <action path="/index" name="KualiForm" type="org.kuali.rice.kns.web.struts.action.KualiSimpleAction">
            <forward name="basic" path="/portal.jsp" />
        </action>
        <action path="/authorizationException" name="KualiForm" type="org.kuali.rice.kns.web.struts.action.KualiAuthorizationExceptionAction">
            <forward name="basic" path="/../kr/WEB-INF/jsp/authorizationException.jsp"/>
        </action>
        <action path="/initiationAuthorizationException" name="KualiForm" type="org.kuali.rice.kns.web.struts.action.KualiDocumentInitiationAuthorizationExceptionAction">
            <forward name="basic" path="/../kr/WEB-INF/jsp/authorizationException.jsp"/>
        </action>
        <action path="/kualiExceptionIncidentReport"
                name="KualiExceptionIncidentForm"
                attribute="KualiForm"
                type="org.kuali.rice.kns.web.struts.action.KualiExceptionHandlerAction">
            <forward name="basic" path="/../kr/WEB-INF/jsp/KualiExceptionIncident.jsp" />
            <forward name="AuthorizationException" path="/authorizationException.do" />
            <forward name="DocumentInitiationAuthorizationException" path="/initiationAuthorizationException.do" />
        </action>
        <action path="/updateTextArea" name="KualiForm" type="org.kuali.rice.kns.web.struts.action.KualiDocumentActionBase">
            <forward name="basic" path="/../kr/WEB-INF/jsp/TextArea.jsp"/>
        </action>
       	<!-- End required KNS mappings -->
		<action path="/Rule" name="RuleForm" input="/WEB-INF/jsp/rule/RuleInit.jsp" type="org.kuali.rice.kew.rule.web.RuleAction"
			scope="session" parameter="methodToCall" validate="true" attribute="KualiForm">
			<forward name="basic" path="/WEB-INF/jsp/rule/RuleInit.jsp" />
			<forward name="init" path="/WEB-INF/jsp/rule/RuleInit.jsp" />
		</action>

      <action path="/ActionList" scope="request" validate="false" parameter="methodToCall"
        type="org.kuali.rice.kew.actionlist.web.ActionListAction" name="ActionListFormNew"
        input="/WEB-INF/jsp/ActionList/ActionListNew.jsp" >
        <forward name="basic" path="/WEB-INF/jsp/ActionList/ActionListNew.jsp"/>
        <forward name="viewActionList" path="/WEB-INF/jsp/ActionList/ActionListNew.jsp"/>
        <forward name="count" path="/WEB-INF/jsp/ActionList/ActionListCountNew.jsp"/>
        <forward name="requiredStateError" path="/WEB-INF/jsp/ActionList/ActionListNew.jsp"/>
        <forward name="finalStateError" path="/WEB-INF/jsp/ActionList/ActionListNew.jsp"/>
      </action>

      <action path="/ActionListFilter" scope="request" validate="false" name="ActionListFilterFormNew"
        input="/WEB-INF/jsp/ActionList/ActionListFilter.jsp"
        type="org.kuali.rice.kew.actionlist.web.ActionListFilterAction" parameter="methodToCall">
        <forward name="viewFilter" path="/WEB-INF/jsp/ActionList/ActionListFilter.jsp" />
        <forward name="viewActionList" path="/ActionList.do?methodToCall=start" redirect="true" />
        <forward name="requiredStateError" path="/WEB-INF/jsp/ActionList/ActionListFilter.jsp"/>
        <forward name="finalStateError" path="/WEB-INF/jsp/ActionList/ActionListFilter.jsp"/>
      </action>

      <action path="/DocumentOperation" name="DocumentOperationForm" scope="request" input="/WEB-INF/jsp/documentoperation/DocumentOperation.jsp"
      			validate="false" type="org.kuali.rice.kew.documentoperation.web.DocumentOperationAction" parameter="methodToCall">
	      <forward name="basic" path="/WEB-INF/jsp/documentoperation/DocumentOperation.jsp"/>
	      <forward name="summary" path="/WEB-INF/jsp/documentoperation/DocumentOperationSummary.jsp"/>
      	  <forward name="confirm" path="/WEB-INF/jsp/documentoperation/DocumentOperationConfirm.jsp"/>
	      <forward name="requiredStateError" path="/WEB-INF/jsp/documentoperation/DocumentOperationSummary.jsp"/>
          <forward name="finalStateError" path="/WEB-INF/jsp/documentoperation/DocumentOperationSummary.jsp"/>
      </action>
    </action-mappings>



    <controller processorClass="org.kuali.rice.kns.web.struts.action.KualiRequestProcessor" />
    <message-resources parameter="org.kuali.rice.kew.ApplicationResources" />
    <!-- <message-resources factory="org.kuali.rice.kns.web.struts.action.KualiPropertyMessageResourcesFactory" parameter="SampleApplicationResources" /> -->
</struts-config>

